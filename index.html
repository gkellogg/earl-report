<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Earl Report by gkellogg</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Earl Report</h1>
      <h2 class="project-tagline">Ruby gem to consolidate multiple EARL reports and generate a rollup conformance report</h2>
      <a href="https://github.com/gkellogg/earl-report" class="btn">View on GitHub</a>
      <a href="https://github.com/gkellogg/earl-report/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/gkellogg/earl-report/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="earl-report" class="anchor" href="#earl-report" aria-hidden="true"><span class="octicon octicon-link"></span></a>earl-report</h1>

<p>Ruby gem to consolidate multiple EARL report and generate a rollup conformance report.</p>

<p><a href="http://badge.fury.io/rb/earl-report"><img src="https://badge.fury.io/rb/earl-report.png" alt="Gem Version"></a>
<a href="http://travis-ci.org/gkellogg/earl-report"><img src="https://travis-ci.org/gkellogg/earl-report.png?branch=master" alt="Build Status"></a></p>

<h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>Reads a test manifest in the
<a href="http://www.w3.org/2011/rdf-wg/wiki/Turtle_Test_Suite">standard RDF WG format</a>
along with one or more individual EARL reports and generates a rollup report in
HTML+RDFa in <a href="http://dev.w3.org/2009/dap/ReSpec.js/documentation.html">ReSpec</a> format.</p>

<h2>
<a id="individual-earl-reports" class="anchor" href="#individual-earl-reports" aria-hidden="true"><span class="octicon octicon-link"></span></a>Individual EARL reports</h2>

<p>Results for individual implementations should be specified in Turtle form, but
may be specified in an any compatible RDF serialization. The report is composed of <code>Assertion</code> declarations
in the following form:</p>

<pre><code>[ a earl:Assertion;
  earl:assertedBy &lt;http://greggkellogg.net/foaf#me&gt;;
  earl:subject &lt;http://rubygems.org/gems/rdf-turtle&gt;;
  earl:test &lt;http://dvcs.w3.org/hg/rdf/raw-file/default/rdf-turtle/tests-ttl/manifest.ttl#turtle-syntax-file-01&gt;;
  earl:result [
    a earl:TestResult;
    earl:outcome earl:passed;
    dc:date "2012-11-17T15:19:11-05:00"^^xsd:dateTime];
  earl:mode earl:automatic ] .
</code></pre>

<p>Additionally, <code>earl:subject</code> is expected to reference a <a href="">DOAP</a> description
of the reported software, in the following form:</p>

<pre><code>&lt;http://rubygems.org/gems/rdf-turtle&gt; a doap:Project, earl:TestSubject, earl:Software ;
  doap:name          "RDF::Turtle" ;
  doap:developer     &lt;http://greggkellogg.net/foaf#me&gt; ;
  doap:homepage      &lt;http://ruby-rdf.github.com/rdf-turtle&gt; ;
  doap:description   "RDF::Turtle is an Turtle reader/writer for the RDF.rb library suite."@en ;
  doap:programming-language "Ruby" .
</code></pre>

<p>The <a href="">DOAP</a> description may be included in the <a href="">EARL</a> report. If not found,
the IRI identified by <code>earl:subject</code> will be dereferenced and is presumed to
provide a <a href="">DOAP</a> specification of the test subject.</p>

<p>The <code>doap:developer</code> is expected to reference a <a href="">FOAF</a> profile for the agent
(user or organization) responsible for the test subject. It is expected to be
of the following form:</p>

<pre><code>&lt;http://greggkellogg.net/foaf#me&gt; foaf:name "Gregg Kellogg" .
</code></pre>

<p>If not found, the IRI identified by <code>doap:developer</code>
will be dereferenced and is presumed to provide a <a href="">FOAF</a> profile of the developer.</p>

<h2>
<a id="manifest-query" class="anchor" href="#manifest-query" aria-hidden="true"><span class="octicon octicon-link"></span></a>Manifest query</h2>

<p>The test manifest is used to generate <code>earl:TestCase</code> entries for each test
described in the test manifest. It will also summarize each test, including
any input and result files associated with the tests. The built-in query
is based on the <a href="">standard RDF WG format</a>. Alternative manifest formats
can be used by specifying a customized manifest query. The default query
is the following:</p>

<pre><code>PREFIX dc: &lt;http://purl.org/dc/terms/&gt;
PREFIX mf: &lt;http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;

SELECT ?lh ?uri ?type ?title ?description ?testAction ?testResult ?manUri ?manTitle ?manDescription
WHERE {
  ?uri a ?type;
    mf:name ?title;
    mf:action ?testAction .
  OPTIONAL { ?uri rdfs:comment ?description . }
  OPTIONAL { ?uri mf:result ?testResult . }
  OPTIONAL {
    ?manUri a mf:Manifest; mf:entries ?lh .
    ?lh rdf:first ?uri .
    OPTIONAL { ?manUri mf:name ?manTitle . }
    OPTIONAL { ?manUri rdfs:comment ?manDescription . }
  }
}
</code></pre>

<p>If any result has a non-null <code>?lh</code>, it is taken as the list head and used
to maintain the list order within <code>earl:tests</code>.</p>

<h2>
<a id="report-generation-template" class="anchor" href="#report-generation-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Report generation template</h2>

<p>The report template is in <a href="http://dev.w3.org/2009/dap/ReSpec.js/documentation.html">ReSpec</a> form using <a href="">Haml</a> to generate individual report elements.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>The <code>earl-report</code> command may be used to directly create a report from zero or more input files, which are themselves <a href="http://www.w3.org/TR/EARL10-Schema/">EARL</a> report.</p>

<pre><code>gem install earl-report

earl-report \
  --base            # Base URI to use when loading test manifest
  --bibRef          # ReSpec BibRef of specification being reported upon
  --format          # Format of output, one of 'ttl', 'json', or 'html'
  --json            # Input is a JSON-LD formatted result
  --manifest        # Test manifest
  --name            # Name of specification
  --output          # Output report to file
  --query           # Query, or file containing query for extracting information from Test manifest
  --rc              # Write options to run-control file
  --template        # Specify or return default report template
  report*           # one or more EARL report in most RDF formats
</code></pre>

<p>Generally, creating a <code>json</code> format first is more efficient. Subsequent invocations can then use the <code>--json</code> and use the generated JSON-LD file instead of re-parsing each report.</p>

<h3>
<a id="initialization-file" class="anchor" href="#initialization-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Initialization File</h3>

<p><code>earl-report</code> can take defaults for options from an initialization file.
When run, <code>earl-report</code> attempts to open the file <code>.earl</code> in the current directory. This file is in <a href="http://www.yaml.org/">YAML</a> format with entries for each option. Use the <code>--rc</code> option to automatically generate it.</p>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<ul>
<li>
<a href="http://github.com/gkellogg">Gregg Kellogg</a> - <a href="http://greggkellogg.net/">http://greggkellogg.net/</a>
</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This software is licensed using <a href="http://unlicense.org">Unlicense</a> and is freely available without encumbrance.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/gkellogg/earl-report">Earl Report</a> is maintained by <a href="https://github.com/gkellogg">gkellogg</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

